@model IEnumerable<LibraryMVC4.Models.admin>

@{
    Layout = null;
    Layout = "~/Views/Shared/_adminTemplate.cshtml";
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Categories</title>
</head>
<body>
    <div>
        @Html.ActionLink("Go back to Admin Area", "index", "admin")</div>

        <h3>Categories</h3>
        @Html.ActionLink("Add Category", "AddCategory", "admin", new { @style = "float: right;" })

        <table class="table table-striped table-hover">
            <tr>
                <th>Category</th>
                <th>Display</th>
                <th>Date/Time</th>
            </tr>
           
                @foreach (var item in Model)
                {
                    <tr>
                        <td>@Html.ActionLink(item.CatName, "CategoriesEdit", "admin", new { id = item.CatId }, null)</td>
                        <td>@item.CheckBox</td>
                        <td>@item.DateTime</td>
                    </tr>
                }         

         </table>
        
    @*not using the javascript below. decided to switch to a grid rather than a drop down menu.*@   
        <script type="text/javascript">

            jQuery(document).ready(function ($) {

                $('#CatId').change(function () {

                    var str = "";
                    var num = "";

                    $("select option:selected").each(function () {

                        str += $(this).text() + " ";
                        num += $(this).val() + " ";

                    });

                    if (num != " ") {
                        //$("#catName").val(str);
                        $('input[name="catName"]').val(str);
                        $('input[name="catValue"]').val($(this).val());
                    }

                }).change();


            });

            </script>
</body>
</html>
